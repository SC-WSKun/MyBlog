---
title: 解决src属性使用相同图片地址但是对应不同图片时浏览器缓存不刷新的问题
date: 2021-07-30 15:30:19
tags: [JavaScript,浏览器]
categories: Web开发
---
# 问题描述
在进行Web开发时使用了腾讯云的云存储，为了节省云存储将用户上传的图片云端存储地址固定，使之覆盖原来的图片。

但是因此出现了用户覆盖旧图片后，浏览器里并不会显示新图片，原因是云端存储地址相同时，腾讯云生成的图片url不变。浏览器检测到src属性的url不变，还是会使用浏览器缓存里的图片（旧图片）。
# 解决方法
在src属性使用的url后面增加一个随机参数，浏览器检测到不同后会再次请求云端
```
'https://...?ref='+Math.random()
```